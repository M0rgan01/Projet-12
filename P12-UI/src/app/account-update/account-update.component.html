<div *ngIf="user" class="row">
  <div class="offset-2 col-8 offset-sm-2 col-sm-8 offset-lg-3 col-lg-6">
    <div class="card mt-5">
      <div class="card-body">
        <h5 class="card-title">Modification de mon compte</h5>

        <div *ngIf="error != null" class="alert alert-danger">
          <span>{{error | translate}}</span>
        </div>

        <div *ngIf="errors != null" class="alert alert-danger">
          <p class="p-1 m-0" *ngFor="let err of errors">{{err.message | translate}}</p>
        </div>

        <div *ngIf="update" class="alert alert-success">
          <p class="p-1 m-0">Mise à jour éffectuée</p>
        </div>

        <form (ngSubmit)="onUpdateEmail(user)">
          <div class="form-group">
            <label>Email:</label>
            <input class="form-control" [(ngModel)]="user.mail.email" type="text" name="email" >
          </div>
          <button type="submit" class="btn btn-primary mb-2" [disabled]="!user.mail.email">Modifier</button>
        </form>


        <form #f="ngForm" (ngSubmit)="onUpdatePassWord(user)">
          <div class="form-group">
            <label>Mot de passe :</label>
            <input class="form-control" [(ngModel)]="user.passWord" type="password" name="passWord" required>
          </div>
          <div class="form-group">
            <label>Confirmation du mot de passe :</label>
            <input class="form-control" [(ngModel)]="user.passWordConfirm" type="password" name="passWordConfirm"
                   required>
          </div>
          <div class="form-group">
            <label>Ancien mot de passe :</label>
            <input class="form-control" [(ngModel)]="user.oldPassWord" type="password" name="oldPassWord" required>
          </div>
          <button type="submit" class="btn btn-primary" [disabled]="f.invalid">Modifier</button>
        </form>

      </div>
    </div>
  </div>
</div>
