<!--BARRE DE NAVIGATION TOP-->
<nav class="navbar fixed-top navbar-expand-md navbar-dark bg-dark border-bottom border-light">

  <a class="navbar-brand ml-2 text-white cliquable" routerLink="/products">{{title}}</a>

  <button (click)="onSwitchToggle()" type="button" class="btn mr-auto d-none d-md-block"><span
    class="navbar-toggler-icon"></span></button>

  <button class="btn d-md-none" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">

      <li class="nav-item dropdown" *ngIf="categoryService.categories">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
           aria-haspopup="true" aria-expanded="false">
          Cat√©gories
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a *ngFor="let c of categoryService.categories" class="dropdown-item cliquable"
             [routerLink]="['/products', c.id]">{{c.name}}</a>
        </div>
      </li>

      <!-- This menu is hidden in bigger devices with d-sm-none.
           The sidebar isn't proper for smaller screens imo, so this dropdown menu can keep all the useful sidebar itens exclusively for smaller screens  -->
      <li *ngIf="authService.isAuth()" class="nav-item dropdown d-sm-block d-md-none">
        <a class="nav-link dropdown-toggle" href="#" id="smallerscreenmenu" data-toggle="dropdown" aria-haspopup="true"
           aria-expanded="false">
          Mon compte
        </a>
        <div class="dropdown-menu" aria-labelledby="smallerscreenmenu">
          <a class="dropdown-item" routerLink="/account">Modifier mon compte</a>
          <a *ngIf="authService.isAuth()" (click)="onLogout()"
             class="dropdown-item">Logout
          </a>
        </div>
      </li>

    </ul>

    <form class="form-inline ml-auto">
      <input class="form-control" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-success my-2 my-md-0 mx-sm-2 mx-0" type="submit">Search</button>
    </form>

    <button routerLink="/caddies" class="btn btn-primary">Panier <span
      class="badge badge-light">{{caddyService.getSize()}}</span></button>

  </div>
</nav>

<!-- SIDEBAR https://www.codeply.com/go/7XYosZ7VH5 -->
<div class="row h-100 m-0" id="body-row">
  <!-- Sidebar -->
  <div class="d-none d-md-block col-2 p-0 border-right bg-info"
       [ngClass]="{'d-md-block': isTogled, 'd-md-none': !isTogled}">

    <ul class="list-group sticky-offset sticky-top list-group-flush mt-4">

      <li class="list-group-item bg-info font-weight-bold" *ngIf="authService.isAuth()">
        Bonjour {{authService.getUserName()}}
      </li>

      <a *ngIf="!authService.isAuth()" routerLinkActive="text-dark font-weight-bold" routerLink="/register"
         class="list-group-item list-group-item-action border-0 bg-info">Register</a>
      <a *ngIf="!authService.isAuth()" routerLinkActive="text-dark font-weight-bold" routerLink="/login"
         class="list-group-item list-group-item-action border-0 bg-info">Login</a>
      <a *ngIf="authService.isAuth()"
         class="list-group-item list-group-item-action border-0 bg-info" routerLink="/orders">Mes commandes</a>

      <!-- /END Separator -->
      <!-- Menu with submenu -->
      <a *ngIf="authService.isAuth()" href="#submenu1" data-toggle="collapse" aria-expanded="false"
         class="bg-dark font-weight-bold list-group-item list-group-item-action flex-column align-items-start border-0">
        <div class="d-flex w-100 justify-content-start align-items-center">
          <span>Mon compte</span>
        </div>
      </a>
      <!-- Submenu content -->
      <div id="submenu1" class="collapse">
        <a routerLink="/account" class="list-group-item list-group-item-action text-white text-center border-0 bg-dark">
          <span class="menu-collapsed">Modifier mon compte</span>
        </a>
        <a *ngIf="authService.isAuth()" (click)="onLogout()"
           class="list-group-item list-group-item-action text-white text-center border-0 bg-dark cliquable">
          <span class="menu-collapsed">Logout</span>
        </a>

      </div>

    </ul>
    <!-- List Group END-->
  </div>
  <!-- sidebar-container END -->

  <div class="col">
    <div class="container">
      <div class="mb-5"></div>
      <router-outlet></router-outlet>
    </div>
    <div class="mt-5"></div>
  </div>


</div>
